{"version":3,"file":"initcheckboxes.min.js","sources":["../src/initcheckboxes.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/.\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle. If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package\n * @subpackage organizer\n * @copyright 2020 Thomas Niedermaier (thomas.niedermaier@gmail.com)\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * Tab appointments view: Check or uncheck all checkboxes.\n */\n\n\ndefine(\n    ['jquery'], function($) {\n\n        /**\n         * @constructor\n         * @alias module:mod_organizer/initcheckboxes\n         */\n        var Initcheckboxes = function() {};\n\n        var instance = new Initcheckboxes();\n\n        instance.init = function() {\n\n            /**\n             * Check or uncheck checkboxes of slot overview.\n             * @param {object} e element which has been clicked\n             */\n            function organizerCheckAll(e) {\n                var checked = $(e.target).is(':checked');\n                var table = $('#slot_overview');\n\n                table.find('tbody').find('tr').each(\n                    function() {\n                        if (($(this).css('offsetWidth') === 0 &&\n                            $(this).css('offsetHeight') === 0) || $(this).css('display') === 'none') {\n                            $(this).find('input[type=checkbox]').prop('checked', false);\n                        } else {\n                            $(this).find('input:not([disabled])[type=checkbox]').prop('checked', checked);\n                        }\n                    }\n                );\n\n                table.find('thead').find('input[type=checkbox]').prop('checked', checked);\n                table.find('tfoot').find('input[type=checkbox]').prop('checked', checked);\n            }\n\n            $('#slot_overview thead').find('input[type=checkbox]').on('click', organizerCheckAll);\n            $('#slot_overview tfoot').find('input[type=checkbox]').on('click', organizerCheckAll);\n            $(\"input:not([disabled])[type=checkbox]\").click(function() {\n                $(\"#bulkactionbutton\").attr(\"disabled\", true);\n                $('#slot_overview').find('input:not([disabled]):not([name=\"select\"])[type=checkbox]').each(\n                    function() {\n                        if ($(this).prop('checked') == true) {\n                            $(\"#bulkactionbutton\").attr(\"disabled\", false);\n                            return false;\n                        } else {\n                            return true;\n                        }\n                    }\n                );\n            });\n        };\n\n        return instance;\n\n    }\n);\n"],"names":["define","$","instance","init","organizerCheckAll","e","checked","target","is","table","find","each","this","css","prop","on","click","attr"],"mappings":";;;;;;AA2BAA,sCACI,CAAC,WAAW,SAASC,OAQbC,SAAW,IAFM,oBAIrBA,SAASC,KAAO,oBAMHC,kBAAkBC,OACnBC,QAAUL,EAAEI,EAAEE,QAAQC,GAAG,YACzBC,MAAQR,EAAE,kBAEdQ,MAAMC,KAAK,SAASA,KAAK,MAAMC,MAC3B,WACwC,IAA/BV,EAAEW,MAAMC,IAAI,gBACmB,IAAhCZ,EAAEW,MAAMC,IAAI,iBAAqD,SAA3BZ,EAAEW,MAAMC,IAAI,WAClDZ,EAAEW,MAAMF,KAAK,wBAAwBI,KAAK,WAAW,GAErDb,EAAEW,MAAMF,KAAK,wCAAwCI,KAAK,UAAWR,YAKjFG,MAAMC,KAAK,SAASA,KAAK,wBAAwBI,KAAK,UAAWR,SACjEG,MAAMC,KAAK,SAASA,KAAK,wBAAwBI,KAAK,UAAWR,SAGrEL,EAAE,wBAAwBS,KAAK,wBAAwBK,GAAG,QAASX,mBACnEH,EAAE,wBAAwBS,KAAK,wBAAwBK,GAAG,QAASX,mBACnEH,EAAE,wCAAwCe,OAAM,WAC5Cf,EAAE,qBAAqBgB,KAAK,YAAY,GACxChB,EAAE,kBAAkBS,KAAK,6DAA6DC,MAClF,kBACmC,GAA3BV,EAAEW,MAAME,KAAK,aACbb,EAAE,qBAAqBgB,KAAK,YAAY,IACjC,UASpBf"}